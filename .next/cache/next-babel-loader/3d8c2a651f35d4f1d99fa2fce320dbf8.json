{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport * as actionTypes from \"../actions/actionTypes\";\nvar INITIAL_STATE = {\n  searchResults: null,\n  loading: null,\n  error: null,\n  stepperFormData: {\n    // store for stepper form fields\n    landlord_bio: {\n      // actual review and landlord name\n      landlord_review: \"\",\n      name: \"\"\n    },\n    postal_code: \"\",\n    addressData: null //address lookup state used in creating new review      \n\n  }\n};\n\nvar reducer = function reducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : INITIAL_STATE;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case actionTypes.SEARCH_BY_ADDRESS_START:\n      return _objectSpread({}, state, {\n        loading: true,\n        error: null\n      });\n\n    case actionTypes.SEARCH_BY_ADDRESS_SUCCESS:\n      return _objectSpread({}, state, {\n        loading: false,\n        searchResults: action.payload.data\n      });\n\n    case actionTypes.SEARCH_BY_ADDRESS_FAIL:\n      return _objectSpread({}, state, {\n        loading: false,\n        error: \"SOMETHING WENT WRONG\"\n      });\n\n    case actionTypes.RESET_APPLICATION_STATE:\n      return INITIAL_STATE;\n\n    case actionTypes.SET_ADDRESS_OBJECT:\n      // return {...state, stepperFormData:{...state.stepperFormData,addressData: action.payload}}\n      var data = action.payload;\n      return _objectSpread({}, state, {\n        stepperFormData: _objectSpread({}, state.stepperFormData, {\n          postal_code: data[data.length - 1].long_name,\n          addressData: {\n            street_number: data[0].long_name + \" \" + data[1].long_name,\n            city: data[data.length - 5].long_name,\n            postal_code: data[data.length - 1].long_name,\n            province: data[data.length - 3].long_name,\n            country: data[data.length - 2].long_name\n          }\n        })\n      });\n\n    case actionTypes.LOGOUT_USER:\n      return INITIAL_STATE;\n\n    case actionTypes.SET_REVIEW_FORM_FIELDS:\n      var keys = _Object$keys(action.payload);\n\n      var landlord_bio_copy = JSON.parse(_JSON$stringify(state.stepperFormData.landlord_bio));\n      var value = landlord_bio_copy[keys[0]].toString();\n      landlord_bio_copy[keys[0]] = action.payload[keys[0]];\n      return _objectSpread({}, state, {\n        stepperFormData: _objectSpread({}, state.stepperFormData, {\n          landlord_bio: landlord_bio_copy\n        })\n      });\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["/Users/fortunephiri/Documents/Projects/roomR8r/store/reducers/appReducer.js"],"names":["actionTypes","INITIAL_STATE","searchResults","loading","error","stepperFormData","landlord_bio","landlord_review","name","postal_code","addressData","reducer","state","action","type","SEARCH_BY_ADDRESS_START","SEARCH_BY_ADDRESS_SUCCESS","payload","data","SEARCH_BY_ADDRESS_FAIL","RESET_APPLICATION_STATE","SET_ADDRESS_OBJECT","length","long_name","street_number","city","province","country","LOGOUT_USER","SET_REVIEW_FORM_FIELDS","keys","landlord_bio_copy","JSON","parse","value","toString"],"mappings":"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","sourcesContent":["import * as actionTypes from \"../actions/actionTypes\"\n\nconst INITIAL_STATE = {\n    searchResults:null,\n    loading: null,\n    error: null,\n    stepperFormData:{\n      // store for stepper form fields\n      landlord_bio:{\n        // actual review and landlord name\n        landlord_review: \"\",\n        name: \"\"\n      },\n      postal_code:\"\",\n      addressData: null,    //address lookup state used in creating new review      \n    },\n\n}\n\nconst reducer = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case actionTypes.SEARCH_BY_ADDRESS_START:\n      return {...state,loading: true, error: null}\n    case actionTypes.SEARCH_BY_ADDRESS_SUCCESS:\n      return {...state,loading: false, searchResults: action.payload.data}\n    case actionTypes.SEARCH_BY_ADDRESS_FAIL:\n      return {...state, loading: false, error: \"SOMETHING WENT WRONG\"}\n    case actionTypes.RESET_APPLICATION_STATE:\n      return INITIAL_STATE\n    case actionTypes.SET_ADDRESS_OBJECT:\n      // return {...state, stepperFormData:{...state.stepperFormData,addressData: action.payload}}\n      const data = action.payload\n      return {...state, stepperFormData:{\n        ...state.stepperFormData,\n        postal_code:data[data.length-1].long_name,\n        addressData: {\n          street_number:data[0].long_name + \" \" + data[1].long_name,\n          city:data[data.length-5].long_name,\n          postal_code:data[data.length-1].long_name,\n          province: data[data.length-3].long_name,\n          country: data[data.length-2].long_name,\n        }\n    }}\n    case actionTypes.LOGOUT_USER:\n      return INITIAL_STATE\n    case actionTypes.SET_REVIEW_FORM_FIELDS:\n      const keys = Object.keys(action.payload)\n      const landlord_bio_copy = JSON.parse(JSON.stringify(state.stepperFormData.landlord_bio))\n      const value = landlord_bio_copy[keys[0]].toString()\n      landlord_bio_copy[keys[0]] = action.payload[keys[0]]\n      return {\n        ...state, stepperFormData:{ ...state.stepperFormData, landlord_bio: landlord_bio_copy }\n      }\n    default:\n      return state\n  }\n}\n\nexport default reducer"]},"metadata":{},"sourceType":"module"}