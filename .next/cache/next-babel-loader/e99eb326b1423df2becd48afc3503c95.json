{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/fortunephiri/Documents/Projects/roomR8r/pages/index.js\";\nimport React, { Component } from \"react\";\nimport Spinner from \"../src/components/spinner\";\nimport Layout from \"../src/components/layout\";\nimport { connect } from \"react-redux\";\nimport Router from \"next/router\";\nimport Card from \"../src/components/card\";\nimport * as appActions from \"../store/actions/appActions\";\nimport SearchBar from \"../src/components/searchBar\";\nimport Modal from \"../src/components/modal\";\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      address: \"\",\n      modalVisible: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAddressChangeHandler\", function (input) {\n      //handles user input and stores in local state\n      _this.setState({\n        address: input.toUpperCase()\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"searchByAddressHandler\", function (event) {\n      _this.props.findByAddress(_this.props.userToken, _this.state.address);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"showModalHandle\", function () {\n      _this.setState({\n        modalVisible: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"hideModalHandle\", function () {\n      _this.setState({\n        modalVisible: false\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      !this.props.userToken ? Router.push(\"/login\") : null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var cards = this.props.searchResults.map(function (element) {\n        return React.createElement(Card, {\n          data: element,\n          key: element.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41\n          },\n          __self: this\n        });\n      });\n      var spinner = !this.props.loading ? null : React.createElement(Spinner, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      });\n      return React.createElement(Layout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, React.createElement(Modal, {\n        modalVisible: this.state.modalVisible,\n        showModalHandle: this.showModalHandle,\n        hideModalHandle: this.hideModalHandle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          marginTop: \"60px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        style: styles.headerStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, \"Because not all landlords are built the same\")), React.createElement(\"div\", {\n        style: {\n          marginTop: \"5px\",\n          padding: \"20px\",\n          width: \"60%\",\n          textAlign: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(SearchBar, {\n        placeholder: \"Enter address\",\n        value: this.state.address,\n        onChange: this.onAddressChangeHandler,\n        onRequestSearch: this.searchByAddressHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }), spinner), cards.length !== 0 ? React.createElement(\"div\", {\n        style: {\n          overflowY: \"scroll\",\n          width: \"100%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, cards) : null);\n    }\n  }]);\n\n  return App;\n}(Component);\n\nvar styles = {\n  headerStyle: {\n    color: \"#2C365E\",\n    textAlign: \"center\",\n    fontFamily: 'Fira Sans, sans-serif',\n    fontWeight: \"bold\"\n  }\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    userToken: state.auth.userToken,\n    searchResults: state.app.searchResults,\n    loading: state.app.loading\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    findByAddress: function findByAddress(userToken, address) {\n      return dispatch(appActions.findReviewByAddress(userToken, address));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","map":{"version":3,"sources":["/Users/fortunephiri/Documents/Projects/roomR8r/pages/index.js"],"names":["React","Component","Spinner","Layout","connect","Router","Card","appActions","SearchBar","Modal","App","address","modalVisible","input","setState","toUpperCase","event","props","findByAddress","userToken","state","push","cards","searchResults","map","element","id","spinner","loading","showModalHandle","hideModalHandle","marginTop","styles","headerStyle","padding","width","textAlign","onAddressChangeHandler","searchByAddressHandler","length","overflowY","color","fontFamily","fontWeight","mapStateToProps","auth","app","mapDispatchToProps","dispatch","findReviewByAddress"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Spinner from \"../src/components/spinner\";\nimport Layout from \"../src/components/layout\"\nimport {connect} from \"react-redux\"\nimport Router from \"next/router\"\nimport Card from \"../src/components/card\"\n\nimport * as appActions from \"../store/actions/appActions\"\n\nimport SearchBar from \"../src/components/searchBar\";\nimport Modal from \"../src/components/modal\"\n\nclass App extends Component {\n  componentDidMount(){\n    !this.props.userToken? Router.push(\"/login\") : null\n  }\n  state = {\n    address: \"\",\n    modalVisible: false\n  };\n\n  onAddressChangeHandler = input => {\n    //handles user input and stores in local state\n    this.setState({\n      address: input.toUpperCase()\n    });\n  };\n\n  searchByAddressHandler = event => {\n    this.props.findByAddress(this.props.userToken, this.state.address)\n  }\n\n  showModalHandle=()=>{\n    this.setState({modalVisible: true})\n  }\n\n  hideModalHandle=()=>{\n    this.setState({modalVisible: false})\n  } \n  render() {\n    const cards = this.props.searchResults.map(element=><Card data={element} key={element.id} />)\n    const spinner = !this.props.loading ? null : <Spinner />;\n    return (\n      <Layout>\n        <Modal modalVisible={this.state.modalVisible}\n            showModalHandle={this.showModalHandle} \n            hideModalHandle={this.hideModalHandle}  />\n        <div style={{marginTop:\"60px\"}}>\n          <h2 style={styles.headerStyle}>\n            Because not all landlords are built the same\n          </h2>\n        </div>\n        <div\n          style={{\n            marginTop:\"5px\",\n            padding: \"20px\",\n            width: \"60%\",\n            textAlign: \"center\",\n          }}\n        >\n          <SearchBar\n            placeholder=\"Enter address\"\n            value={this.state.address}\n            onChange={this.onAddressChangeHandler}\n            onRequestSearch={this.searchByAddressHandler}\n          />\n          {spinner}\n        </div>            \n        { cards.length !== 0 ? <div style={{overflowY:\"scroll\", width:\"100%\"}}>{cards}</div>: null}\n      </Layout>\n    );\n  }\n}\n\nconst styles = {\n  headerStyle:{\n    color: \"#2C365E\", \n    textAlign: \"center\",\n    fontFamily:'Fira Sans, sans-serif',\n    fontWeight:\"bold\"\n  },\n};\n\nconst mapStateToProps=(state)=>{\n  return{\n    userToken: state.auth.userToken,\n    searchResults:state.app.searchResults,\n    loading: state.app.loading\n  }\n}\n\nconst mapDispatchToProps=(dispatch)=>{\n  return{\n    findByAddress:(userToken,address)=>dispatch(appActions.findReviewByAddress(userToken,address))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n"]},"metadata":{},"sourceType":"module"}