{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/fortunephiri/Documents/Projects/roomR8r/pages/index.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport Router from \"next/router\";\nimport { ReviewCard, Layout, Spinner, SearchBar } from \"../src/components\";\nimport Modal from \"../src/modal/modal\";\nimport * as appActions from \"../store/actions/appActions\";\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      address: \"\",\n      modalVisible: false\n    });\n\n    _defineProperty(this, \"onAddressChangeHandler\", input => {\n      //handles user input and stores in local state\n      this.setState({\n        address: input.toUpperCase()\n      });\n    });\n\n    _defineProperty(this, \"searchByAddressHandler\", event => {\n      this.props.findByAddress(this.props.userToken, this.state.address);\n    });\n\n    _defineProperty(this, \"showModalHandle\", () => {\n      this.setState({\n        modalVisible: true\n      });\n    });\n\n    _defineProperty(this, \"hideModalHandle\", () => {\n      this.setState({\n        modalVisible: false\n      });\n    });\n  }\n\n  componentDidMount() {\n    !this.props.userToken ? Router.push(\"/login\") : null;\n  }\n\n  render() {\n    const cards = this.props.searchResults.map(element => React.createElement(ReviewCard, {\n      data: element,\n      key: element.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }));\n    const spinner = !this.props.loading ? null : React.createElement(Spinner, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    });\n    return React.createElement(Layout, {\n      showModalHandle: this.showModalHandle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        background: \"url('static/imgs/houses.jpeg')\",\n        display: \"flex\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, React.createElement(Modal, {\n      modalVisible: this.state.modalVisible,\n      hideModalHandle: this.hideModalHandle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        marginTop: \"60px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      style: styles.headerStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, \"Because not all landlords are built the same\")), React.createElement(\"div\", {\n      style: {\n        marginTop: \"5px\",\n        padding: \"20px\",\n        width: \"60%\",\n        textAlign: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(SearchBar, {\n      placeholder: \"Enter address\",\n      value: this.state.address,\n      onChange: this.onAddressChangeHandler,\n      onRequestSearch: this.searchByAddressHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }), spinner), cards.length !== 0 ? React.createElement(\"div\", {\n      style: {\n        overflowY: \"scroll\",\n        width: \"100%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, cards) : null));\n  }\n\n}\n\nconst styles = {\n  headerStyle: {\n    color: \"#2C365E\",\n    textAlign: \"center\",\n    fontFamily: 'Fira Sans, sans-serif',\n    fontWeight: \"bold\"\n  }\n};\n\nconst mapStateToProps = state => {\n  return {\n    userToken: state.auth.userToken,\n    searchResults: state.app.searchResults,\n    loading: state.app.loading\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    findByAddress: (userToken, address) => dispatch(appActions.findReviewByAddress(userToken, address))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","map":{"version":3,"sources":["/Users/fortunephiri/Documents/Projects/roomR8r/pages/index.js"],"names":["React","Component","connect","Router","ReviewCard","Layout","Spinner","SearchBar","Modal","appActions","App","address","modalVisible","input","setState","toUpperCase","event","props","findByAddress","userToken","state","componentDidMount","push","render","cards","searchResults","map","element","id","spinner","loading","showModalHandle","background","display","hideModalHandle","marginTop","styles","headerStyle","padding","width","textAlign","onAddressChangeHandler","searchByAddressHandler","length","overflowY","color","fontFamily","fontWeight","mapStateToProps","auth","app","mapDispatchToProps","dispatch","findReviewByAddress"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {connect} from \"react-redux\"\nimport Router from \"next/router\"\nimport {ReviewCard, Layout, Spinner, SearchBar } from \"../src/components\"\nimport Modal from \"../src/modal/modal\"\nimport * as appActions from \"../store/actions/appActions\"\n\n\nclass App extends Component {\n  componentDidMount(){\n    !this.props.userToken? Router.push(\"/login\") : null\n  }\n  state = {\n    address: \"\",\n    modalVisible: false\n  };\n\n  onAddressChangeHandler = input => {\n    //handles user input and stores in local state\n    this.setState({\n      address: input.toUpperCase()\n    });\n  };\n\n  searchByAddressHandler = event => {\n    this.props.findByAddress(this.props.userToken, this.state.address)\n  }\n\n  showModalHandle=()=>{\n    this.setState({modalVisible: true})\n  }\n\n  hideModalHandle=()=>{\n    this.setState({modalVisible: false})\n  } \n  render() {\n    const cards = this.props.searchResults.map(element=><ReviewCard data={element} key={element.id} />)\n    const spinner = !this.props.loading ? null : <Spinner />;\n    return (\n      <Layout showModalHandle={this.showModalHandle}>\n        <div style={{background:\"url('static/imgs/houses.jpeg')\", display:\"flex\"}}>\n        {/* showModal passed to layout then to toolbar */}\n        <Modal modalVisible={this.state.modalVisible}\n            hideModalHandle={this.hideModalHandle}  />\n        <div style={{marginTop:\"60px\"}}>\n          <h2 style={styles.headerStyle}>\n            Because not all landlords are built the same\n          </h2>\n        </div>\n        <div\n          style={{\n            marginTop:\"5px\",\n            padding: \"20px\",\n            width: \"60%\",\n            textAlign: \"center\",\n          }}\n        >\n          <SearchBar\n            placeholder=\"Enter address\"\n            value={this.state.address}\n            onChange={this.onAddressChangeHandler}\n            onRequestSearch={this.searchByAddressHandler}\n          />\n          {spinner}\n        </div>            \n        { cards.length !== 0 ? <div style={{overflowY:\"scroll\", width:\"100%\"}}>{cards}</div>: null}\n        </div>\n      </Layout>\n    );\n  }\n}\n\nconst styles = {\n  headerStyle:{\n    color: \"#2C365E\", \n    textAlign: \"center\",\n    fontFamily:'Fira Sans, sans-serif',\n    fontWeight:\"bold\"\n  },\n};\n\nconst mapStateToProps=(state)=>{\n  return{\n    userToken: state.auth.userToken,\n    searchResults:state.app.searchResults,\n    loading: state.app.loading\n  }\n}\n\nconst mapDispatchToProps=(dispatch)=>{\n  return{\n    findByAddress:(userToken,address)=>dispatch(appActions.findReviewByAddress(userToken,address))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n"]},"metadata":{},"sourceType":"module"}