{"ast":null,"code":"import _parseInt from \"@babel/runtime-corejs2/core-js/parse-int\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/fortunephiri/Documents/Projects/roomR8r/pages/index.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport Router from \"next/router\";\nimport { parseCookies } from \"../lib/parseCookies\";\nimport { ReviewCard, Layout, Spinner, SearchBar } from \"../src/components\";\nimport * as appActions from \"../store/actions/appActions\";\nimport * as authActions from \"../store/actions/authActions\";\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      address: \"\",\n      modalVisible: false,\n      searchInitiated: false,\n      //used as flag to check if user has attempted searching if so show no result \n      addressError: false\n    });\n\n    _defineProperty(this, \"onAddressChangeHandler\", input => {\n      //handles user input and stores in local state\n      const valid = this.isValidatePostalCode(input);\n\n      if (valid) {\n        const addDash = input.length === 3 ? `${input.slice(0, 3)} ${input.slice(3)}` : input;\n        this.setState({\n          addressError: false,\n          address: addDash.toUpperCase()\n        });\n        return;\n      }\n\n      this.setState({\n        addressError: !valid\n      });\n    });\n\n    _defineProperty(this, \"isValidatePostalCode\", input => {\n      // validates the postal code to fit canadian format of X1X-X1X\n      const val = input.split(\"\"); //storing the values in array\n\n      let valid = true;\n      let counter = 0;\n      val.forEach((element, index) => {\n        /******\n          counter used to keep track of spaces where value should be digit\n          even array index is alphabetic character and odd is numeric\n          counter is not incremented after 3 so as to add dash which is not counted\n        ******/\n        if (counter % 2 !== 0) {\n          if (element === \" \") {\n            return;\n          } else {\n            counter++;\n            valid = valid && !isNaN(_parseInt(element));\n          }\n        } else {\n          counter++; // validates the strings are in the right place by canadian postal code format\n\n          valid = valid && /^[A-Za-z\\-]/.test(element);\n        }\n      });\n      return valid;\n    });\n\n    _defineProperty(this, \"searchByAddressHandler\", event => {\n      this.props.findByAddress(this.props.userToken, this.state.address);\n    });\n\n    _defineProperty(this, \"showModalHandle\", () => {\n      this.setState({\n        modalVisible: true\n      });\n    });\n\n    _defineProperty(this, \"hideModalHandle\", () => {\n      this.setState({\n        modalVisible: false\n      });\n    });\n  }\n\n  componentDidMount() {\n    if (!this.props.savedToken) {\n      Router.replace(\"/auth\");\n    } else {\n      this.props.updateSavedToken(this.props.savedToken);\n    }\n  }\n\n  render() {\n    let cards = null;\n    /**\n     *  emptyResultsText: this is used to display feedback when empty list returned.\n     *  display of this warning is handled by state.showEmptyResultsWarning flag\n     * */\n\n    let emptyResultsText = \"\";\n\n    if (this.props.searchResults !== null && this.props.searchResults.length > 0) {\n      cards = this.props.searchResults ? this.props.searchResults.map(element => React.createElement(ReviewCard, {\n        data: element,\n        key: element.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      })) : null;\n    } else if (this.props.searchResults) {\n      /*** this handle the empty array case where no results where found**/\n      if (this.props.searchResults.length === 0) {\n        emptyResultsText = React.createElement(\"p\", {\n          style: styles.noResultsStyle,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96\n          },\n          __self: this\n        }, \"Currently no reviews exist for this postal code\");\n      }\n    }\n\n    const spinner = !this.props.loading ? null : React.createElement(Spinner, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    });\n    /***  showModal handle is passed down to Layout ***/\n\n    return React.createElement(Layout, {\n      showModalHandle: this.showModalHandle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"section\", {\n      style: styles.sectionStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      style: styles.headerStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Because not all landlords are built the same\"), React.createElement(\"h3\", {\n      style: styles.secondaryHeader,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fax2 fa-home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }), \"war\", React.createElement(\"span\", {\n      style: styles.highlightText,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"M\"), \"ing or war\", React.createElement(\"span\", {\n      style: styles.highlightText,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"N\"), \"ing ?\"), React.createElement(SearchBar, {\n      style: {\n        backgroundColor: \"#FF5941\",\n        color: \"#fffffa\"\n      },\n      invalid: this.state.addressError ? true : false,\n      placeholder: \"X5X X5X\",\n      value: this.state.address,\n      onChange: this.onAddressChangeHandler,\n      onRequestSearch: this.searchByAddressHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      style: styles.errorStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \" \", this.state.addressError ? \"Acceptable format is X9X-9X9\" : \"\", \" \"), React.createElement(\"p\", {\n      style: styles.searchHeading,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"Search for reviews by Postal Code\"), spinner, emptyResultsText, React.createElement(\"div\", {\n      style: {\n        width: \"100%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, cards)));\n  }\n\n}\n\n_defineProperty(App, \"getInitialProps\", ({\n  req\n}) => {\n  const cookie = parseCookies(req);\n  return {\n    savedToken: cookie.userToken\n  };\n});\n\nconst styles = {\n  headerStyle: {\n    marginTop: \"80px\",\n    fontSize: 26,\n    color: \"rgb(44,54,94)\",\n    textAlign: \"center\",\n    fontFamily: 'Poppins, sans-serif',\n    fontWeight: \"bold\"\n  },\n  secondaryHeader: {\n    fontSize: 20,\n    color: \"rgb(44,54,94)\",\n    fontFamily: 'Poppins, sans-serif'\n  },\n  highlightText: {\n    fontSize: 24,\n    color: \"#FF5941\",\n    fontWeight: \"bold\"\n  },\n  sectionStyle: {\n    overflowY: \"scroll\",\n    alignSelf: \"center\",\n    marginTop: \"5px\",\n    padding: \"20px\",\n    textAlign: \"center\",\n    width: \"100%\"\n  },\n  searchHeading: {\n    fontSize: 16,\n    marginTop: 20,\n    color: \"rgb(44,54,94)\",\n    fontWeight: \"bold\",\n    fontFamily: \"Poppins, sans serif\"\n  },\n  errorStyle: {\n    color: \"rgb(255,89,65)\",\n    fontWeight: \"bold\",\n    fontFamily: \"Poppins, sans serif\"\n  },\n  noResultsStyle: {\n    color: \"rgb(255,89,65)\",\n    fontSize: 20,\n    fontWeight: \"bold\",\n    fontFamily: \"Fira Sans, sans serif\"\n  }\n};\n\nconst mapStateToProps = state => {\n  return {\n    userToken: state.auth.userToken,\n    searchResults: state.app.searchResults,\n    loading: state.app.loading\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    updateSavedToken: token => dispatch(authActions.updateSavedToken(token)),\n    findByAddress: (userToken, address) => dispatch(appActions.findReviewByAddress(userToken, address))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","map":{"version":3,"sources":["/Users/fortunephiri/Documents/Projects/roomR8r/pages/index.js"],"names":["React","Component","connect","Router","parseCookies","ReviewCard","Layout","Spinner","SearchBar","appActions","authActions","App","address","modalVisible","searchInitiated","addressError","input","valid","isValidatePostalCode","addDash","length","slice","setState","toUpperCase","val","split","counter","forEach","element","index","isNaN","test","event","props","findByAddress","userToken","state","componentDidMount","savedToken","replace","updateSavedToken","render","cards","emptyResultsText","searchResults","map","id","styles","noResultsStyle","spinner","loading","showModalHandle","sectionStyle","headerStyle","secondaryHeader","highlightText","backgroundColor","color","onAddressChangeHandler","searchByAddressHandler","errorStyle","searchHeading","width","req","cookie","marginTop","fontSize","textAlign","fontFamily","fontWeight","overflowY","alignSelf","padding","mapStateToProps","auth","app","mapDispatchToProps","dispatch","token","findReviewByAddress"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {connect} from \"react-redux\"\nimport Router from \"next/router\"\nimport {parseCookies} from \"../lib/parseCookies\"\n\nimport {ReviewCard, Layout, Spinner, SearchBar } from \"../src/components\"\nimport * as appActions from \"../store/actions/appActions\"\nimport * as authActions from \"../store/actions/authActions\"\n\nclass App extends Component {\n  static getInitialProps=({req})=>{\n    const cookie = parseCookies(req)\n    return {\n      savedToken: cookie.userToken\n    }\n  }\n\n  componentDidMount(){\n    if(!this.props.savedToken){\n      Router.replace(\"/auth\")\n    }else{\n      this.props.updateSavedToken(this.props.savedToken)\n    }\n  }\n\n  state = {\n    address: \"\",\n    modalVisible: false,\n    searchInitiated: false, //used as flag to check if user has attempted searching if so show no result \n    addressError:false,\n  };\n\n  onAddressChangeHandler = input => {\n    //handles user input and stores in local state\n    const valid = this.isValidatePostalCode(input)\n      if(valid){\n      const addDash = input.length===3 ? `${input.slice(0,3)} ${input.slice(3)}`:input\n      this.setState({\n       addressError:false,\n       address: addDash.toUpperCase()\n    })\n    return\n    }\n    this.setState({addressError:!valid})\n  };\n\n  isValidatePostalCode=(input)=>{\n    // validates the postal code to fit canadian format of X1X-X1X\n    const val = input.split(\"\") //storing the values in array\n    let valid = true\n    let counter = 0\n    val.forEach((element,index)=>{\n      /******\n        counter used to keep track of spaces where value should be digit\n        even array index is alphabetic character and odd is numeric\n        counter is not incremented after 3 so as to add dash which is not counted\n      ******/\n      if((counter % 2) !== 0){\n        if(element === \" \"){\n          return\n        }else{\n          counter++\n          valid = valid && !isNaN(parseInt(element)) \n        }    \n      }else{\n        counter++\n        // validates the strings are in the right place by canadian postal code format\n        valid = valid && /^[A-Za-z\\-]/.test(element)\n      }\n    })\n    return valid\n  }\n  searchByAddressHandler = event => {\n    this.props.findByAddress(this.props.userToken, this.state.address)\n  }\n\n  showModalHandle=()=>{\n    this.setState({modalVisible: true})\n  }\n\n  hideModalHandle=()=>{\n    this.setState({modalVisible: false})\n  } \n  render() {\n    let cards = null\n    /**\n     *  emptyResultsText: this is used to display feedback when empty list returned.\n     *  display of this warning is handled by state.showEmptyResultsWarning flag\n     * */ \n    let emptyResultsText = \"\"\n    if(this.props.searchResults !== null && this.props.searchResults.length > 0){\n      cards= this.props.searchResults ? this.props.searchResults.map(element=><ReviewCard data={element} key={element.id} />): null\n    }else if(this.props.searchResults){\n      /*** this handle the empty array case where no results where found**/ \n      if(this.props.searchResults.length === 0){\n        emptyResultsText = <p style={styles.noResultsStyle}>Currently no reviews exist for this postal code</p>\n      }\n    }\n    const spinner = !this.props.loading ? null : <Spinner />;\n    /***  showModal handle is passed down to Layout ***/\n    return (\n      <Layout showModalHandle={this.showModalHandle}>\n        <section style={styles.sectionStyle}>\n        <h2 style={styles.headerStyle}>\n            Because not all landlords are built the same\n          </h2>\n          <h3 style={styles.secondaryHeader}><i className=\"fax2 fa-home\"/>war<span style={styles.highlightText}>M</span>ing or war<span style={styles.highlightText}>N</span>ing ?</h3>\n          <SearchBar\n            style={{backgroundColor:\"#FF5941\",color:\"#fffffa\"}}\n            invalid={this.state.addressError ? true : false}\n            placeholder=\"X5X X5X\"\n            value={this.state.address}\n            onChange={this.onAddressChangeHandler}\n            onRequestSearch={this.searchByAddressHandler}\n          />\n          <p style={styles.errorStyle}> {this.state.addressError ? \"Acceptable format is X9X-9X9\" : \"\"} </p>\n          <p style={styles.searchHeading}>Search for reviews by Postal Code</p>\n          {spinner}\n          {emptyResultsText}\n        <div style={{ width:\"100%\"}}>{cards}</div>\n        </section>            \n      </Layout>\n    );\n  }\n}\n\nconst styles = {\n  headerStyle:{\n    marginTop:\"80px\",\n    fontSize: 26,\n    color: \"rgb(44,54,94)\",\n    textAlign: \"center\",\n    fontFamily:'Poppins, sans-serif',\n    fontWeight:\"bold\"\n  },\n  secondaryHeader:{\n    fontSize:20,\n    color:\"rgb(44,54,94)\",\n    fontFamily:'Poppins, sans-serif',\n  },\n  highlightText:{\n    fontSize:24,\n    color:\"#FF5941\",\n    fontWeight:\"bold\"\n  },\n  sectionStyle:{\n    overflowY:\"scroll\",\n    alignSelf:\"center\",\n    marginTop:\"5px\",\n    padding: \"20px\",\n    textAlign: \"center\",\n    width:\"100%\"\n  },\n  searchHeading:{\n    fontSize:16,\n    marginTop:20,\n    color: \"rgb(44,54,94)\", \n    fontWeight:\"bold\",\n    fontFamily:\"Poppins, sans serif\"\n  },\n  errorStyle:{\n    color:\"rgb(255,89,65)\",\n    fontWeight:\"bold\",\n    fontFamily:\"Poppins, sans serif\"\n  },\n  noResultsStyle:{\n    color:\"rgb(255,89,65)\",\n    fontSize:20,\n    fontWeight:\"bold\",\n    fontFamily:\"Fira Sans, sans serif\"\n  }\n};\n\nconst mapStateToProps=(state)=>{\n  return{\n    userToken: state.auth.userToken,\n    searchResults:state.app.searchResults,\n    loading: state.app.loading\n  }\n}\n\nconst mapDispatchToProps=(dispatch)=>{\n  return{\n    updateSavedToken:(token)=>dispatch(authActions.updateSavedToken(token)),\n    findByAddress:(userToken,address)=>dispatch(appActions.findReviewByAddress(userToken,address))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n"]},"metadata":{},"sourceType":"module"}