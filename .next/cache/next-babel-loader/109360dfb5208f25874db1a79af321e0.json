{"ast":null,"code":"import _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport axios from \"axios\";\nimport * as actionTypes from \"./actionTypes\";\nexport var findReviewByAddress = function findReviewByAddress(userToken, address) {\n  // fetches reviews from firebase\n  // return: array of objects\n  // params: userToken passed from authState and address \n  return function (dispatch) {\n    dispatch({\n      type: actionTypes.SEARCH_BY_ADDRESS_START\n    });\n    axios.get(\"https://accomo-rater.firebaseio.com/landlord_data.json?auth=\".concat(userToken, \"&orderBy=\\\"postal_code\\\"&startAt=\\\"\").concat(address, \"\\\"&endAt=\\\"\").concat(address, \"\\\"\")).then(function (response) {\n      // iterating over response placing id as part of object\n      var arrayData = _Object$keys(response.data).map(function (key) {\n        return _objectSpread({}, response.data[key], {\n          id: key\n        });\n      });\n\n      dispatch({\n        type: actionTypes.SEARCH_BY_ADDRESS_SUCCESS,\n        payload: {\n          data: arrayData\n        }\n      });\n    })[\"catch\"](function (error) {\n      dispatch({\n        type: actionTypes.SEARCH_BY_ADDRESS_FAIL,\n        payload: {\n          data: error\n        }\n      });\n    });\n  };\n}; // export const purchaseBurger=(orderData, token)=>{\n//   return (dispatch)=>{\n//     dispatch(purchaseBurgerStart())\n//     axios.post(`/orders.json?auth=${token}` ,orderData)\n//       .then(response=>{\n//         dispatch(purchaseBurgerSuccess(response.data.name,orderData))\n//       }).catch(error=>{\n//         dispatch(purchaseBurgerFailed(error))\n//       })\n//   }\n// }","map":{"version":3,"sources":["/Users/fortunephiri/Documents/Projects/roomR8r/store/actions/appActions.js"],"names":["axios","actionTypes","findReviewByAddress","userToken","address","dispatch","type","SEARCH_BY_ADDRESS_START","get","then","response","arrayData","data","map","key","id","SEARCH_BY_ADDRESS_SUCCESS","payload","error","SEARCH_BY_ADDRESS_FAIL"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,WAAZ,MAA6B,eAA7B;AAEA,OAAO,IAAMC,mBAAmB,GAAE,SAArBA,mBAAqB,CAACC,SAAD,EAAWC,OAAX,EAAuB;AACvD;AACA;AACA;AAEA,SAAO,UAACC,QAAD,EAAY;AACjBA,IAAAA,QAAQ,CAAC;AAACC,MAAAA,IAAI,EAAEL,WAAW,CAACM;AAAnB,KAAD,CAAR;AACAP,IAAAA,KAAK,CAACQ,GAAN,uEACEL,SADF,gDAC8CC,OAD9C,wBAEEA,OAFF,SAICK,IAJD,CAIM,UAAAC,QAAQ,EAAI;AAChB;AACA,UAAMC,SAAS,GAAG,aAAYD,QAAQ,CAACE,IAArB,EAA2BC,GAA3B,CAA+B,UAAAC,GAAG,EAAI;AACxD,iCAAYJ,QAAQ,CAACE,IAAT,CAAcE,GAAd,CAAZ;AAAgCC,UAAAA,EAAE,EAAED;AAApC;AACC,OAFiB,CAAlB;;AAGAT,MAAAA,QAAQ,CAAC;AACPC,QAAAA,IAAI,EAAEL,WAAW,CAACe,yBADX;AAEPC,QAAAA,OAAO,EAAE;AAAEL,UAAAA,IAAI,EAACD;AAAP;AAFF,OAAD,CAAR;AAID,KAbD,WAcO,UAAAO,KAAK,EAAI;AACdb,MAAAA,QAAQ,CAAC;AACPC,QAAAA,IAAI,EAACL,WAAW,CAACkB,sBADV;AAEPF,QAAAA,OAAO,EAAC;AAAEL,UAAAA,IAAI,EAAEM;AAAR;AAFD,OAAD,CAAR;AAID,KAnBD;AAoBD,GAtBD;AAuBC,CA5BI,C,CAiCL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA","sourcesContent":["import axios from \"axios\";\nimport * as actionTypes from \"./actionTypes\"\n\nexport const findReviewByAddress= (userToken,address) => {\n  // fetches reviews from firebase\n  // return: array of objects\n  // params: userToken passed from authState and address \n  \n  return (dispatch)=>{\n    dispatch({type: actionTypes.SEARCH_BY_ADDRESS_START})\n    axios.get(`https://accomo-rater.firebaseio.com/landlord_data.json?auth=${\n      userToken}&orderBy=\"postal_code\"&startAt=\"${address}\"&endAt=\"${\n      address }\"`\n    )\n    .then(response => {\n      // iterating over response placing id as part of object\n      const arrayData = Object.keys(response.data).map(key => {\n      return { ...response.data[key], id: key };\n      });\n      dispatch({\n        type: actionTypes.SEARCH_BY_ADDRESS_SUCCESS,\n        payload: { data:arrayData }\n      })\n    })\n    .catch(error => {\n      dispatch({\n        type:actionTypes.SEARCH_BY_ADDRESS_FAIL,\n        payload:{ data: error }\n      })\n    });\n  }\n  };\n\n\n\n\n  // export const purchaseBurger=(orderData, token)=>{\n  //   return (dispatch)=>{\n  //     dispatch(purchaseBurgerStart())\n  //     axios.post(`/orders.json?auth=${token}` ,orderData)\n  //       .then(response=>{\n  //         dispatch(purchaseBurgerSuccess(response.data.name,orderData))\n  //       }).catch(error=>{\n  //         dispatch(purchaseBurgerFailed(error))\n  //       })\n  \n  //   }\n  // }\n"]},"metadata":{},"sourceType":"module"}