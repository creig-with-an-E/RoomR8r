{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/fortunephiri/Documents/Projects/roomR8r/pages/auth.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React, { Component } from \"react\";\nimport Router from \"next/router\";\nimport { Button, Spinner } from \"../src/components\";\nimport * as actions from \"../store/actions/authActions\";\nimport { connect } from \"react-redux\";\n\nvar Auth =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Auth, _Component);\n\n  function Auth() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Auth);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Auth)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      email: \"\",\n      password: \"\",\n      loading: false //updated by componentDidUpdate\n\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSubmitHandler\", function (event) {\n      event.preventDefault();\n\n      _this.setState({\n        loading: true\n      });\n\n      var _this$state = _this.state,\n          email = _this$state.email,\n          password = _this$state.password;\n\n      _this.props.login(email, password);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onChange\", function (event) {\n      if (event.target.name === \"password\" && _this.props.error) {\n        _this.props.clearError();\n      }\n\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    });\n\n    return _this;\n  }\n\n  _createClass(Auth, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      //reseting errors on initial page mount\n      this.props.clearError();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (this.props.userToken !== prevProps.userToken) {\n        this.props.userToken ? Router.push(\"/\") : null;\n        this.setState({\n          loading: false\n        });\n      }\n\n      if (this.props.error !== prevProps.error) {\n        this.setState({\n          loading: false\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var button = !this.state.loading ? React.createElement(Button, {\n        onClick: this.onSubmitHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, \"Login\") : React.createElement(Spinner, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      });\n      return React.createElement(\"div\", {\n        style: styles.containerStyle,\n        className: \"jsx-1323344303\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"jsx-1323344303\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        style: {\n          textAlign: \"center\",\n          color: \"#474A48\",\n          fontFamily: 'Lexend Tera, sans-serif',\n          fontWeight: \"bold\"\n        },\n        className: \"jsx-1323344303\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, \"RoomR\", React.createElement(\"span\", {\n        style: {\n          color: \"#FF5941\"\n        },\n        className: \"jsx-1323344303\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, \"8\"), \"r\"), React.createElement(\"p\", {\n        style: styles.header,\n        className: \"jsx-1323344303\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, \"Gamble with the lottery not your accomodation\")), React.createElement(\"div\", {\n        style: styles.mainAreaStyle,\n        className: \"jsx-1323344303\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.onSubmitHandler,\n        className: \"jsx-1323344303\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        required: true,\n        value: this.state.email,\n        onChange: this.onChange,\n        style: styles.inputStyle,\n        placeholder: \"email@gmail.com\",\n        type: \"email\",\n        name: \"email\",\n        className: \"jsx-1323344303\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        required: true,\n        value: this.state.password,\n        onChange: this.onChange,\n        style: styles.inputStyle,\n        placeholder: \"password\",\n        type: \"password\",\n        name: \"password\",\n        className: \"jsx-1323344303\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }), button, this.props.error ? React.createElement(\"p\", {\n        style: styles.errorStyle,\n        className: \"jsx-1323344303\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, \" \", this.props.error, \" \") : null)), React.createElement(\"p\", {\n        style: styles.paragraphStyle,\n        className: \"jsx-1323344303\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"Dont Have an account? \", React.createElement(\"span\", {\n        onClick: function onClick() {\n          return alert(\"clicked\");\n        },\n        className: \"jsx-1323344303\" + \" \" + \"createAccountButton\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"Create Account\")), React.createElement(_JSXStyle, {\n        id: \"1323344303\",\n        __self: this\n      }, \".createAccountButton.jsx-1323344303{font-weight:bold;font-size:20;color:#FF5941;-webkit-text-decoration:underline;text-decoration:underline;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9mb3J0dW5lcGhpcmkvRG9jdW1lbnRzL1Byb2plY3RzL3Jvb21SOHIvcGFnZXMvYXV0aC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFxRXNCLEFBRzhCLGlCQUNMLGFBQ0MsY0FFaEIsNERBQUMiLCJmaWxlIjoiL1VzZXJzL2ZvcnR1bmVwaGlyaS9Eb2N1bWVudHMvUHJvamVjdHMvcm9vbVI4ci9wYWdlcy9hdXRoLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFJvdXRlciBmcm9tIFwibmV4dC9yb3V0ZXJcIlxuaW1wb3J0IHtCdXR0b24sIFNwaW5uZXJ9IGZyb20gXCIuLi9zcmMvY29tcG9uZW50c1wiXG5pbXBvcnQgKiBhcyBhY3Rpb25zIGZyb20gXCIuLi9zdG9yZS9hY3Rpb25zL2F1dGhBY3Rpb25zXCJcblxuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiXG5cbmNsYXNzIEF1dGggZXh0ZW5kcyBDb21wb25lbnQge1xuICBzdGF0ZSA9IHtcbiAgICBlbWFpbDpcIlwiLFxuICAgIHBhc3N3b3JkOlwiXCIsXG4gICAgbG9hZGluZzogZmFsc2UsIC8vdXBkYXRlZCBieSBjb21wb25lbnREaWRVcGRhdGVcbiAgfTtcbiAgY29tcG9uZW50RGlkTW91bnQoKXtcbiAgICAvL3Jlc2V0aW5nIGVycm9ycyBvbiBpbml0aWFsIHBhZ2UgbW91bnRcbiAgICB0aGlzLnByb3BzLmNsZWFyRXJyb3IoKVxuICB9XG4gIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMsIHByZXZTdGF0ZSl7XG4gICAgaWYodGhpcy5wcm9wcy51c2VyVG9rZW4gIT09IHByZXZQcm9wcy51c2VyVG9rZW4pe1xuICAgICAgdGhpcy5wcm9wcy51c2VyVG9rZW4gPyBSb3V0ZXIucHVzaChcIi9cIikgOiBudWxsXG4gICAgICB0aGlzLnNldFN0YXRlKHtsb2FkaW5nOiBmYWxzZX0pXG4gICAgfVxuICAgIGlmKHRoaXMucHJvcHMuZXJyb3IgIT09IHByZXZQcm9wcy5lcnJvcil7XG4gICAgICB0aGlzLnNldFN0YXRlKHtsb2FkaW5nOiBmYWxzZX0pXG4gICAgfVxuICB9XG4gIG9uU3VibWl0SGFuZGxlcj0oZXZlbnQpPT57XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIHRoaXMuc2V0U3RhdGUoe2xvYWRpbmc6IHRydWV9KVxuICAgIGNvbnN0IHtlbWFpbCwgcGFzc3dvcmR9ID0gdGhpcy5zdGF0ZVxuICAgIHRoaXMucHJvcHMubG9naW4oZW1haWwscGFzc3dvcmQpXG4gIH1cblxuICBvbkNoYW5nZT0oZXZlbnQpPT57XG4gICAgaWYoZXZlbnQudGFyZ2V0Lm5hbWUgPT09IFwicGFzc3dvcmRcIiAmJiB0aGlzLnByb3BzLmVycm9yKXtcbiAgICAgIHRoaXMucHJvcHMuY2xlYXJFcnJvcigpXG4gICAgfVxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBbZXZlbnQudGFyZ2V0Lm5hbWVdOmV2ZW50LnRhcmdldC52YWx1ZVxuICAgIH0pXG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGJ1dHRvbiA9ICF0aGlzLnN0YXRlLmxvYWRpbmcgPzxCdXR0b24gb25DbGljaz17dGhpcy5vblN1Ym1pdEhhbmRsZXJ9PkxvZ2luPC9CdXR0b24+OiA8U3Bpbm5lciAvPlxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IHN0eWxlPXtzdHlsZXMuY29udGFpbmVyU3R5bGV9PlxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8aDEgc3R5bGU9e3t0ZXh0QWxpZ246XCJjZW50ZXJcIiwgY29sb3I6XCIjNDc0QTQ4XCIsZm9udEZhbWlseTogJ0xleGVuZCBUZXJhLCBzYW5zLXNlcmlmJywgZm9udFdlaWdodDpcImJvbGRcIn19PlJvb21SPHNwYW4gc3R5bGU9e3tjb2xvcjpcIiNGRjU5NDFcIn19Pjg8L3NwYW4+cjwvaDE+XG4gICAgICAgICAgICA8cCBzdHlsZT17c3R5bGVzLmhlYWRlcn0+R2FtYmxlIHdpdGggdGhlIGxvdHRlcnkgbm90IHlvdXIgYWNjb21vZGF0aW9uPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IHN0eWxlPXtzdHlsZXMubWFpbkFyZWFTdHlsZX0+XG4gICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMub25TdWJtaXRIYW5kbGVyfT5cbiAgICAgICAgICAgIDxpbnB1dCByZXF1aXJlZCB2YWx1ZT17dGhpcy5zdGF0ZS5lbWFpbH0gXG4gICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZX0gXG4gICAgICAgICAgICAgICBzdHlsZT17c3R5bGVzLmlucHV0U3R5bGV9IHBsYWNlaG9sZGVyPVwiZW1haWxAZ21haWwuY29tXCJcbiAgICAgICAgICAgICAgIHR5cGU9XCJlbWFpbFwiIG5hbWU9XCJlbWFpbFwiIC8+XG4gICAgICAgICAgICA8aW5wdXQgcmVxdWlyZWQgdmFsdWU9e3RoaXMuc3RhdGUucGFzc3dvcmR9XG4gICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZX0gXG4gICAgICAgICAgICAgICBzdHlsZT17c3R5bGVzLmlucHV0U3R5bGV9XG4gICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cInBhc3N3b3JkXCJcbiAgICAgICAgICAgICAgIHR5cGU9XCJwYXNzd29yZFwiIG5hbWU9XCJwYXNzd29yZFwiIC8+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHsvKiBkaXNwbGF5aW5nIGJ1dHRvbiBvciBzcGlubmVyICovfVxuICAgICAgICAgICAge2J1dHRvbn1cbiAgICAgICAgICAgIHsgdGhpcy5wcm9wcy5lcnJvciA/IDxwIHN0eWxlPXtzdHlsZXMuZXJyb3JTdHlsZX0+IHt0aGlzLnByb3BzLmVycm9yfSA8L3A+OiBudWxsIH1cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8cCBzdHlsZT17c3R5bGVzLnBhcmFncmFwaFN0eWxlfT5cbiAgICAgICAgICAgIERvbnQgSGF2ZSBhbiBhY2NvdW50PyA8c3BhbiBjbGFzc05hbWU9XCJjcmVhdGVBY2NvdW50QnV0dG9uXCIgb25DbGljaz17KCk9PmFsZXJ0KFwiY2xpY2tlZFwiKX0+Q3JlYXRlIEFjY291bnQ8L3NwYW4+XG4gICAgICAgICAgPC9wPlxuICAgICAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgICAuY3JlYXRlQWNjb3VudEJ1dHRvbiB7XG4gICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgICAgIGZvbnQtc2l6ZToyMDtcbiAgICAgICAgICAgIGNvbG9yOiNGRjU5NDE7XG4gICAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZVxuICAgICAgICAgIH1cbiAgICAgICAgYH1cbiAgICAgICAgPC9zdHlsZT5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuY29uc3Qgc3R5bGVzID0ge1xuICBjb250YWluZXJTdHlsZToge1xuICAgIGhlaWdodDogXCIxMDB2aFwiLFxuICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgIGJhY2tncm91bmRDb2xvcjpcIiNmZmZmZmFcIixcbiAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgfSxcbiAgbWFpbkFyZWFTdHlsZToge1xuICAgIGJhY2tncm91bmRDb2xvcjogXCIjMTkxOTIzXCIsXG4gICAgLy8gYmFja2dyb3VuZENvbG9yOiBcIiNjY2NcIiwgICAgXG4gICAgLy8gaGVpZ2h0OiBcIjI1MHB4XCIsXG4gICAgd2lkdGg6IFwiMzAwcHhcIixcbiAgICBib3JkZXJSYWRpdXM6IFwiNXB4XCIsXG4gICAgcGFkZGluZzpcIjIwcHhcIixcbiAgICBqdXN0aWZ5Q29udGVudDpcImNlbnRlclwiXG4gIH0sXG4gIGlucHV0U3R5bGU6IHtcbiAgICBkaXNwbGF5OiBcImJsb2NrXCIsXG4gICAgLy8gcGFkZGluZzogXCIxMHB4XCIsXG4gICAgaGVpZ2h0OlwiMzZweFwiLFxuICAgIHdpZHRoOiBcIjI2NnB4XCIsXG4gICAgbWFyZ2luOiBcIjE1cHggYXV0b1wiLFxuICAgIGJvcmRlclJhZGl1czogXCI1cHhcIlxuICB9LFxuICBoZWFkZXI6e1xuICAgIHRleHRBbGlnbjpcImNlbnRlclwiLFxuICAgIGNvbG9yOlwiIzE5MTkyM1wiLFxuICAgIGZvbnRXZWlnaHQ6ICdib2xkZXInLFxuICAgIGZvbnRTaXplOjIyLFxuICAgIGZvbnRGYW1pbHk6ICdQb3BwaW5zLCBzYW5zLXNlcmlmJywgXG4gIH0sXG4gIGVycm9yU3R5bGU6e1xuICAgIG1hcmdpbkJvdHRvbTpcIjIwcHhcIixcbiAgICBjb2xvcjpcIiNmNTBcIixcbiAgICB0ZXh0QWxpZ246XCJjZW50ZXJcIixcbiAgICBmb250U2l6ZToxNixcbiAgICBmb250V2VpZ2h0OlwiYm9sZFwiXG4gIH0sXG4gIHBhcmFncmFwaFN0eWxlOntcbiAgICB0ZXh0QWxpZ246XCJsZWZ0XCIsXG4gICAgcGFkZGluZzogMjAsXG4gICAgZm9udFNpemU6MTYsXG4gICAgZm9udEZhbWlseTpcIlBvcHBpbnMsIHNhbnMgc2VyaWZcIixcbiAgICBiYWNrZ3JvdW5kQ29sb3I6XCIjZmZmXCJcbiAgfVxufTtcbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcz0oc3RhdGUpPT57XG4gIHJldHVybiB7XG4gICAgdXNlclRva2VuOiBzdGF0ZS5hdXRoLnVzZXJUb2tlbixcbiAgICBlcnJvcjogc3RhdGUuYXV0aC5lcnJvcixcbiAgICBsb2FkaW5nOiBzdGF0ZS5hdXRoLmxvYWRpbmdcbiAgfVxufVxuXG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLGFjdGlvbnMpKEF1dGgpXG4iXX0= */\\n/*@ sourceURL=/Users/fortunephiri/Documents/Projects/roomR8r/pages/auth.js */\"));\n    }\n  }]);\n\n  return Auth;\n}(Component);\n\nvar styles = {\n  containerStyle: {\n    height: \"100vh\",\n    width: \"100%\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    backgroundColor: \"#fffffa\",\n    flexDirection: 'column'\n  },\n  mainAreaStyle: {\n    backgroundColor: \"#191923\",\n    // backgroundColor: \"#ccc\",    \n    // height: \"250px\",\n    width: \"300px\",\n    borderRadius: \"5px\",\n    padding: \"20px\",\n    justifyContent: \"center\"\n  },\n  inputStyle: {\n    display: \"block\",\n    // padding: \"10px\",\n    height: \"36px\",\n    width: \"266px\",\n    margin: \"15px auto\",\n    borderRadius: \"5px\"\n  },\n  header: {\n    textAlign: \"center\",\n    color: \"#191923\",\n    fontWeight: 'bolder',\n    fontSize: 22,\n    fontFamily: 'Poppins, sans-serif'\n  },\n  errorStyle: {\n    marginBottom: \"20px\",\n    color: \"#f50\",\n    textAlign: \"center\",\n    fontSize: 16,\n    fontWeight: \"bold\"\n  },\n  paragraphStyle: {\n    textAlign: \"left\",\n    padding: 20,\n    fontSize: 16,\n    fontFamily: \"Poppins, sans serif\",\n    backgroundColor: \"#fff\"\n  }\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    userToken: state.auth.userToken,\n    error: state.auth.error,\n    loading: state.auth.loading\n  };\n};\n\nexport default connect(mapStateToProps, actions)(Auth);","map":{"version":3,"sources":["/Users/fortunephiri/Documents/Projects/roomR8r/pages/auth.js"],"names":["React","Component","Router","Button","Spinner","actions","connect","Auth","email","password","loading","event","preventDefault","setState","state","props","login","target","name","error","clearError","value","prevProps","prevState","userToken","push","button","onSubmitHandler","styles","containerStyle","textAlign","color","fontFamily","fontWeight","header","mainAreaStyle","onChange","inputStyle","errorStyle","paragraphStyle","alert","height","width","display","alignItems","justifyContent","backgroundColor","flexDirection","borderRadius","padding","margin","fontSize","marginBottom","mapStateToProps","auth"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Router from \"next/router\"\nimport {Button, Spinner} from \"../src/components\"\nimport * as actions from \"../store/actions/authActions\"\n\nimport { connect } from \"react-redux\"\n\nclass Auth extends Component {\n  state = {\n    email:\"\",\n    password:\"\",\n    loading: false, //updated by componentDidUpdate\n  };\n  componentDidMount(){\n    //reseting errors on initial page mount\n    this.props.clearError()\n  }\n  componentDidUpdate(prevProps, prevState){\n    if(this.props.userToken !== prevProps.userToken){\n      this.props.userToken ? Router.push(\"/\") : null\n      this.setState({loading: false})\n    }\n    if(this.props.error !== prevProps.error){\n      this.setState({loading: false})\n    }\n  }\n  onSubmitHandler=(event)=>{\n    event.preventDefault()\n    this.setState({loading: true})\n    const {email, password} = this.state\n    this.props.login(email,password)\n  }\n\n  onChange=(event)=>{\n    if(event.target.name === \"password\" && this.props.error){\n      this.props.clearError()\n    }\n    this.setState({\n        [event.target.name]:event.target.value\n    })\n  }\n  render() {\n    const button = !this.state.loading ?<Button onClick={this.onSubmitHandler}>Login</Button>: <Spinner />\n    return (\n      <div style={styles.containerStyle}>\n          <div>\n            <h1 style={{textAlign:\"center\", color:\"#474A48\",fontFamily: 'Lexend Tera, sans-serif', fontWeight:\"bold\"}}>RoomR<span style={{color:\"#FF5941\"}}>8</span>r</h1>\n            <p style={styles.header}>Gamble with the lottery not your accomodation</p>\n          </div>\n        <div style={styles.mainAreaStyle}>\n          <form onSubmit={this.onSubmitHandler}>\n            <input required value={this.state.email} \n               onChange={this.onChange} \n               style={styles.inputStyle} placeholder=\"email@gmail.com\"\n               type=\"email\" name=\"email\" />\n            <input required value={this.state.password}\n               onChange={this.onChange} \n               style={styles.inputStyle}\n               placeholder=\"password\"\n               type=\"password\" name=\"password\" />\n            \n            {/* displaying button or spinner */}\n            {button}\n            { this.props.error ? <p style={styles.errorStyle}> {this.props.error} </p>: null }\n          </form>\n        </div>\n        <p style={styles.paragraphStyle}>\n            Dont Have an account? <span className=\"createAccountButton\" onClick={()=>alert(\"clicked\")}>Create Account</span>\n          </p>\n          <style jsx>{`\n          .createAccountButton {\n            font-weight: bold;\n            font-size:20;\n            color:#FF5941;\n            text-decoration: underline\n          }\n        `}\n        </style>\n      </div>\n    );\n  }\n}\n\nconst styles = {\n  containerStyle: {\n    height: \"100vh\",\n    width: \"100%\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    backgroundColor:\"#fffffa\",\n    flexDirection: 'column',\n  },\n  mainAreaStyle: {\n    backgroundColor: \"#191923\",\n    // backgroundColor: \"#ccc\",    \n    // height: \"250px\",\n    width: \"300px\",\n    borderRadius: \"5px\",\n    padding:\"20px\",\n    justifyContent:\"center\"\n  },\n  inputStyle: {\n    display: \"block\",\n    // padding: \"10px\",\n    height:\"36px\",\n    width: \"266px\",\n    margin: \"15px auto\",\n    borderRadius: \"5px\"\n  },\n  header:{\n    textAlign:\"center\",\n    color:\"#191923\",\n    fontWeight: 'bolder',\n    fontSize:22,\n    fontFamily: 'Poppins, sans-serif', \n  },\n  errorStyle:{\n    marginBottom:\"20px\",\n    color:\"#f50\",\n    textAlign:\"center\",\n    fontSize:16,\n    fontWeight:\"bold\"\n  },\n  paragraphStyle:{\n    textAlign:\"left\",\n    padding: 20,\n    fontSize:16,\n    fontFamily:\"Poppins, sans serif\",\n    backgroundColor:\"#fff\"\n  }\n};\nconst mapStateToProps=(state)=>{\n  return {\n    userToken: state.auth.userToken,\n    error: state.auth.error,\n    loading: state.auth.loading\n  }\n}\n\n\nexport default connect(mapStateToProps,actions)(Auth)\n"]},"metadata":{},"sourceType":"module"}