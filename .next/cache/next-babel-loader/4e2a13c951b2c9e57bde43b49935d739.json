{"ast":null,"code":"import _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/fortunephiri/Documents/Projects/roomR8r/pages/index.js\";\nimport React, { Component } from \"react\";\nimport Spinner from \"../src/components/spinner\";\nimport ReviewCard from \"../src/components/reviewCard\";\nimport Toolbar from \"../src/components/toolbar\";\nimport axios from \"axios\";\nimport { connect } from \"react-redux\";\nimport Router from \"next/router\";\nimport SearchBar from \"material-ui-search-bar\";\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      address: \"\",\n      loading: null,\n      data: []\n    });\n\n    _defineProperty(this, \"onAddressChangeHandler\", input => {\n      this.setState({\n        address: input\n      });\n    });\n\n    _defineProperty(this, \"searchHandler\", event => {\n      this.setState({\n        loading: true\n      });\n      axios.get(`https://accomo-rater.firebaseio.com/landlord_data.json?auth=${this.props.userToken}&orderBy=\"postal_code\"&startAt=\"M3J-1K7\"`).then(response => {\n        const arrayData = _Object$keys(response.data).map(key => {\n          return _objectSpread({}, response.data[key], {\n            id: key\n          });\n        });\n\n        this.setState({\n          loading: false,\n          data: arrayData\n        });\n      }).catch(error => {\n        this.setState({\n          loading: false\n        });\n      });\n    });\n  }\n\n  componentDidMount() {\n    !this.props.userToken ? Router.push(\"/login\") : null;\n  }\n\n  render() {\n    const cards = this.state.data.map(element => React.createElement(ReviewCard, {\n      data: element,\n      key: element.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }));\n    const spinner = !this.state.loading ? null : React.createElement(Spinner, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    });\n    return React.createElement(\"div\", {\n      style: styles.containerStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(Toolbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        marginTop: \"60px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      style: styles.headerStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, \"Because not all landlords are built the same\")), React.createElement(\"div\", {\n      style: {\n        marginTop: \"5px\",\n        padding: \"20px\",\n        width: \"60%\",\n        textAlign: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(SearchBar, {\n      placeholder: \"Enter address\",\n      value: this.state.address,\n      onChange: this.onAddressChangeHandler,\n      onRequestSearch: this.searchHandler,\n      style: styles.searchbarStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }), spinner), cards.length !== 0 ? React.createElement(\"div\", {\n      style: {\n        overflowY: \"scroll\",\n        width: \"100%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, cards) : null);\n  }\n\n}\n\nconst styles = {\n  containerStyle: {\n    display: \"flex\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n    height: \"100vh\",\n    justifyContent: \"center\",\n    backgroundColor: \"#fffffa\"\n  },\n  headerStyle: {\n    color: \"#2C365E\",\n    textAlign: \"center\",\n    fontFamily: 'Fira Sans, sans-serif',\n    fontWeight: \"bold\"\n  },\n  searchbarStyle: {\n    margin: \"0 auto\",\n    maxWidth: 600,\n    padding: 7,\n    boxShadow: '1px 3px 6px 2px rgba(44,54,94,0.6)'\n  }\n};\n\nconst mapStateToProps = state => {\n  return {\n    userToken: state.auth.userToken\n  };\n};\n\nexport default connect(mapStateToProps)(App);","map":{"version":3,"sources":["/Users/fortunephiri/Documents/Projects/roomR8r/pages/index.js"],"names":["React","Component","Spinner","ReviewCard","Toolbar","axios","connect","Router","SearchBar","App","address","loading","data","input","setState","event","get","props","userToken","then","response","arrayData","map","key","id","catch","error","componentDidMount","push","render","cards","state","element","spinner","styles","containerStyle","marginTop","headerStyle","padding","width","textAlign","onAddressChangeHandler","searchHandler","searchbarStyle","length","overflowY","display","alignItems","flexDirection","height","justifyContent","backgroundColor","color","fontFamily","fontWeight","margin","maxWidth","boxShadow","mapStateToProps","auth"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Spinner from \"../src/components/spinner\";\nimport ReviewCard from \"../src/components/reviewCard\"\nimport Toolbar from \"../src/components/toolbar\"\n\nimport axios from \"axios\";\nimport {connect} from \"react-redux\"\nimport Router from \"next/router\"\n\nimport SearchBar from \"material-ui-search-bar\";\nclass App extends Component {\n  componentDidMount(){\n    !this.props.userToken? Router.push(\"/login\") : null\n  }\n  state = {\n    address: \"\",\n    loading: null,\n    data: []\n  };\n\n  onAddressChangeHandler = input => {\n    this.setState({\n      address: input\n    });\n  };\n\n  searchHandler = event => {\n    this.setState({ loading: true });\n    axios.get(`https://accomo-rater.firebaseio.com/landlord_data.json?auth=${this.props.userToken}&orderBy=\"postal_code\"&startAt=\"M3J-1K7\"`)\n      .then(response=>{\n        const arrayData= Object.keys(response.data).map(key=>{\n           return {...response.data[key],id:key}\n        })\n        this.setState({\n          loading:false,\n          data: arrayData\n        })\n      }).catch(error=>{\n        this.setState({loading:false})\n      })\n  }\n\n  render() {\n    const cards = this.state.data.map(element=><ReviewCard data={element} key={element.id} />)\n    const spinner = !this.state.loading ? null : <Spinner />;\n    return (\n      <div style={styles.containerStyle}>\n        <Toolbar />\n        <div style={{marginTop:\"60px\"}}>\n          <h2 style={styles.headerStyle}>\n            Because not all landlords are built the same\n          </h2>\n        </div>\n        <div\n          style={{\n            marginTop:\"5px\",\n            padding: \"20px\",\n            width: \"60%\",\n            textAlign: \"center\",\n          }}\n        >\n          <SearchBar\n            placeholder=\"Enter address\"\n            value={this.state.address}\n            onChange={this.onAddressChangeHandler}\n            onRequestSearch={this.searchHandler}\n            style={styles.searchbarStyle}\n          />\n          {spinner}\n        </div>            \n        { cards.length !== 0 ? <div style={{overflowY:\"scroll\", width:\"100%\"}}>{cards}</div>: null}\n      </div>\n    );\n  }\n}\n\nconst styles = {\n  containerStyle: {\n    display: \"flex\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n    height: \"100vh\",\n    justifyContent: \"center\",\n    backgroundColor: \"#fffffa\"\n  },\n  headerStyle:{\n    color: \"#2C365E\", \n    textAlign: \"center\",\n    fontFamily:'Fira Sans, sans-serif',\n    fontWeight:\"bold\"\n  },\n  searchbarStyle:{\n    margin: \"0 auto\",\n    maxWidth: 600,\n    padding: 7,\n    boxShadow: '1px 3px 6px 2px rgba(44,54,94,0.6)'  \n  }\n};\n\nconst mapStateToProps=(state)=>{\n  return{\n    userToken: state.auth.userToken\n  }\n}\n\nexport default connect(mapStateToProps)(App);\n"]},"metadata":{},"sourceType":"module"}