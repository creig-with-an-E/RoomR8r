{"ast":null,"code":"import _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/fortunephiri/Documents/Projects/roomR8r/pages/index.js\";\nimport React, { Component } from \"react\";\nimport Spinner from \"../src/components/spinner\";\nimport ReviewCard from \"../src/components/reviewCard\";\nimport Toolbar from \"../src/components/toolbar\";\nimport axios from \"axios\";\nimport { connect } from \"react-redux\";\nimport Router from \"next/router\";\nimport SearchBar from \"material-ui-search-bar\";\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      address: \"\",\n      loading: null,\n      data: []\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAddressChangeHandler\", function (input) {\n      input.toUpper();\n\n      _this.setState({\n        address: input\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"searchHandler\", function (event) {\n      _this.setState({\n        loading: true\n      });\n\n      axios.get(\"https://accomo-rater.firebaseio.com/landlord_data.json?auth=\".concat(_this.props.userToken, \"&orderBy=\\\"postal_code\\\"&startAt=\\\"\").concat(_this.state.address, \"\\\"&endAt=\\\"\").concat(_this.state.address, \"\\\"\")).then(function (response) {\n        var arrayData = _Object$keys(response.data).map(function (key) {\n          return _objectSpread({}, response.data[key], {\n            id: key\n          });\n        });\n\n        _this.setState({\n          loading: false,\n          data: arrayData\n        });\n      })[\"catch\"](function (error) {\n        _this.setState({\n          loading: false\n        });\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      !this.props.userToken ? Router.push(\"/login\") : null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var cards = this.state.data.map(function (element) {\n        return React.createElement(ReviewCard, {\n          data: element,\n          key: element.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45\n          },\n          __self: this\n        });\n      });\n      var spinner = !this.state.loading ? null : React.createElement(Spinner, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      });\n      return React.createElement(\"div\", {\n        style: styles.containerStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(Toolbar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          marginTop: \"60px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        style: styles.headerStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, \"Because not all landlords are built the same\")), React.createElement(\"div\", {\n        style: {\n          marginTop: \"5px\",\n          padding: \"20px\",\n          width: \"60%\",\n          textAlign: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(SearchBar, {\n        placeholder: \"Enter address\",\n        value: this.state.address,\n        onChange: this.onAddressChangeHandler,\n        onRequestSearch: this.searchHandler,\n        style: styles.searchbarStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }), spinner), cards.length !== 0 ? React.createElement(\"div\", {\n        style: {\n          overflowY: \"scroll\",\n          width: \"100%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, cards) : null);\n    }\n  }]);\n\n  return App;\n}(Component);\n\nvar styles = {\n  containerStyle: {\n    display: \"flex\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n    height: \"100vh\",\n    justifyContent: \"center\",\n    backgroundColor: \"#fffffa\"\n  },\n  headerStyle: {\n    color: \"#2C365E\",\n    textAlign: \"center\",\n    fontFamily: 'Fira Sans, sans-serif',\n    fontWeight: \"bold\"\n  },\n  searchbarStyle: {\n    margin: \"0 auto\",\n    maxWidth: 600,\n    padding: 7,\n    boxShadow: '1px 3px 6px 2px rgba(44,54,94,0.6)'\n  }\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    userToken: state.auth.userToken\n  };\n};\n\nexport default connect(mapStateToProps)(App);","map":{"version":3,"sources":["/Users/fortunephiri/Documents/Projects/roomR8r/pages/index.js"],"names":["React","Component","Spinner","ReviewCard","Toolbar","axios","connect","Router","SearchBar","App","address","loading","data","input","toUpper","setState","event","get","props","userToken","state","then","response","arrayData","map","key","id","error","push","cards","element","spinner","styles","containerStyle","marginTop","headerStyle","padding","width","textAlign","onAddressChangeHandler","searchHandler","searchbarStyle","length","overflowY","display","alignItems","flexDirection","height","justifyContent","backgroundColor","color","fontFamily","fontWeight","margin","maxWidth","boxShadow","mapStateToProps","auth"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Spinner from \"../src/components/spinner\";\nimport ReviewCard from \"../src/components/reviewCard\"\nimport Toolbar from \"../src/components/toolbar\"\n\nimport axios from \"axios\";\nimport {connect} from \"react-redux\"\nimport Router from \"next/router\"\n\nimport SearchBar from \"material-ui-search-bar\";\nclass App extends Component {\n  componentDidMount(){\n    !this.props.userToken? Router.push(\"/login\") : null\n  }\n  state = {\n    address: \"\",\n    loading: null,\n    data: []\n  };\n\n  onAddressChangeHandler = input => {\n    input.toUpper()\n    this.setState({\n      address: input\n    });\n  };\n\n  searchHandler = event => {\n    this.setState({ loading: true });\n    axios.get(`https://accomo-rater.firebaseio.com/landlord_data.json?auth=${this.props.userToken}&orderBy=\"postal_code\"&startAt=\"${this.state.address}\"&endAt=\"${this.state.address}\"`)\n      .then(response=>{\n        const arrayData= Object.keys(response.data).map(key=>{\n           return {...response.data[key],id:key}\n        })\n        this.setState({\n          loading:false,\n          data: arrayData\n        })\n      }).catch(error=>{\n        this.setState({loading:false})\n      })\n  }\n\n  render() {\n    const cards = this.state.data.map(element=><ReviewCard data={element} key={element.id} />)\n    const spinner = !this.state.loading ? null : <Spinner />;\n    return (\n      <div style={styles.containerStyle}>\n        <Toolbar />\n        <div style={{marginTop:\"60px\"}}>\n          <h2 style={styles.headerStyle}>\n            Because not all landlords are built the same\n          </h2>\n        </div>\n        <div\n          style={{\n            marginTop:\"5px\",\n            padding: \"20px\",\n            width: \"60%\",\n            textAlign: \"center\",\n          }}\n        >\n          <SearchBar\n            placeholder=\"Enter address\"\n            value={this.state.address}\n            onChange={this.onAddressChangeHandler}\n            onRequestSearch={this.searchHandler}\n            style={styles.searchbarStyle}\n          />\n          {spinner}\n        </div>            \n        { cards.length !== 0 ? <div style={{overflowY:\"scroll\", width:\"100%\"}}>{cards}</div>: null}\n      </div>\n    );\n  }\n}\n\nconst styles = {\n  containerStyle: {\n    display: \"flex\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n    height: \"100vh\",\n    justifyContent: \"center\",\n    backgroundColor: \"#fffffa\"\n  },\n  headerStyle:{\n    color: \"#2C365E\", \n    textAlign: \"center\",\n    fontFamily:'Fira Sans, sans-serif',\n    fontWeight:\"bold\"\n  },\n  searchbarStyle:{\n    margin: \"0 auto\",\n    maxWidth: 600,\n    padding: 7,\n    boxShadow: '1px 3px 6px 2px rgba(44,54,94,0.6)'  \n  }\n};\n\nconst mapStateToProps=(state)=>{\n  return{\n    userToken: state.auth.userToken\n  }\n}\n\nexport default connect(mapStateToProps)(App);\n"]},"metadata":{},"sourceType":"module"}