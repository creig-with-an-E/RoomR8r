{"version":3,"file":"static/webpack/static/development/pages/index.js.856d7b37171a79cb5f61.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport Spinner from \"../src/components/spinner\";\nimport ReviewCard from \"../src/components/reviewCard\"\nimport Toolbar from \"../src/components/toolbar\"\n\nimport axios from \"axios\";\nimport {connect} from \"react-redux\"\nimport Router from \"next/router\"\n\nimport SearchBar from \"material-ui-search-bar\";\nclass App extends Component {\n  componentDidMount(){\n    !this.props.userToken? Router.push(\"/login\") : null\n  }\n  state = {\n    address: \"\",\n    loading: null,\n    data: []\n  };\n\n  onAddressChangeHandler = input => {\n    input.toUpper()\n    this.setState({\n      address: input\n    });\n  };\n\n  searchHandler = event => {\n    this.setState({ loading: true });\n    axios.get(`https://accomo-rater.firebaseio.com/landlord_data.json?auth=${this.props.userToken}&orderBy=\"postal_code\"&startAt=\"${this.state.address}\"&endAt=\"${this.state.address}\"`)\n      .then(response=>{\n        const arrayData= Object.keys(response.data).map(key=>{\n           return {...response.data[key],id:key}\n        })\n        this.setState({\n          loading:false,\n          data: arrayData\n        })\n      }).catch(error=>{\n        this.setState({loading:false})\n      })\n  }\n\n  render() {\n    const cards = this.state.data.map(element=><ReviewCard data={element} key={element.id} />)\n    const spinner = !this.state.loading ? null : <Spinner />;\n    return (\n      <div style={styles.containerStyle}>\n        <Toolbar />\n        <div style={{marginTop:\"60px\"}}>\n          <h2 style={styles.headerStyle}>\n            Because not all landlords are built the same\n          </h2>\n        </div>\n        <div\n          style={{\n            marginTop:\"5px\",\n            padding: \"20px\",\n            width: \"60%\",\n            textAlign: \"center\",\n          }}\n        >\n          <SearchBar\n            placeholder=\"Enter address\"\n            value={this.state.address}\n            onChange={this.onAddressChangeHandler}\n            onRequestSearch={this.searchHandler}\n            style={styles.searchbarStyle}\n          />\n          {spinner}\n        </div>            \n        { cards.length !== 0 ? <div style={{overflowY:\"scroll\", width:\"100%\"}}>{cards}</div>: null}\n      </div>\n    );\n  }\n}\n\nconst styles = {\n  containerStyle: {\n    display: \"flex\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n    height: \"100vh\",\n    justifyContent: \"center\",\n    backgroundColor: \"#fffffa\"\n  },\n  headerStyle:{\n    color: \"#2C365E\", \n    textAlign: \"center\",\n    fontFamily:'Fira Sans, sans-serif',\n    fontWeight:\"bold\"\n  },\n  searchbarStyle:{\n    margin: \"0 auto\",\n    maxWidth: 600,\n    padding: 7,\n    boxShadow: '1px 3px 6px 2px rgba(44,54,94,0.6)'  \n  }\n};\n\nconst mapStateToProps=(state)=>{\n  return{\n    userToken: state.auth.userToken\n  }\n}\n\nexport default connect(mapStateToProps)(App);\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAAA;;;;;;;;;;;;;;;;;;AAIA;AACA;AACA;AACA;AAHA;AACA;AAKA;AACA;AACA;AAAA;AACA;AADA;AAGA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAFA;AAIA;AACA;AAAA;AAAA;AACA;AACA;AACA;;;;;;AA/BA;AACA;AACA;;;AA8BA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AAJA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;AAhEA;AACA;AAkEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AAJA;AAfA;AACA;AAsBA;AACA;AACA;AADA;AAGA;AACA;AACA;;;;A","sourceRoot":""}