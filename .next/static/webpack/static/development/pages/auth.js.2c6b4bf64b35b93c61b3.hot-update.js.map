{"version":3,"file":"static/webpack/static/development/pages/auth.js.2c6b4bf64b35b93c61b3.hot-update.js","sources":["webpack:///./pages/auth.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport Router from \"next/router\"\nimport {Button, Spinner} from \"../src/components\"\nimport * as actions from \"../store/actions/authActions\"\n\nimport { connect } from \"react-redux\"\n\nclass Auth extends Component {\n  state = {\n    email:\"\",\n    password:\"\",\n    loading: false, //updated by componentDidUpdate\n  };\n  componentDidMount(){\n    //reseting errors on initial page mount\n    this.props.clearError()\n  }\n  componentDidUpdate(prevProps, prevState){\n    if(this.props.userToken !== prevProps.userToken){\n      this.props.userToken ? Router.push(\"/\") : null\n      this.setState({loading: false})\n    }\n    if(this.props.error !== prevProps.error){\n      this.setState({loading: false})\n    }\n  }\n  onSubmitHandler=(event)=>{\n    event.preventDefault()\n    this.setState({loading: true})\n    const {email, password} = this.state\n    this.props.login(email,password)\n  }\n\n  onChange=(event)=>{\n    if(event.target.name === \"password\" && this.props.error){\n      this.props.clearError()\n    }\n    this.setState({\n        [event.target.name]:event.target.value\n    })\n  }\n  render() {\n    const button = !this.state.loading ?<Button onClick={this.onSubmitHandler}>Login</Button>: <Spinner />\n    return (\n      <div style={styles.containerStyle}>\n          <div>\n            <h1 style={{textAlign:\"center\", color:\"#474A48\",fontFamily: 'Lexend Tera, sans-serif', fontWeight:\"bold\"}}>RoomR<span style={{color:\"#FF5941\"}}>8</span>r</h1>\n            <p style={styles.header}>Gamble with the lottery not your accomodation</p>\n          </div>\n        <div style={styles.mainAreaStyle}>\n          <form onSubmit={this.onSubmitHandler}>\n            <input required value={this.state.email} \n               onChange={this.onChange} \n               style={styles.inputStyle} placeholder=\"email@gmail.com\"\n               type=\"email\" name=\"email\" />\n            <input required value={this.state.password}\n               onChange={this.onChange} \n               style={styles.inputStyle}\n               placeholder=\"password\"\n               type=\"password\" name=\"password\" />\n            \n            {/* displaying button or spinner */}\n            {button}\n            { this.props.error ? <p style={styles.errorStyle}> {this.props.error} </p>: null }\n          </form>\n        </div>\n        <p>\n            Dont Have an account? <span className=\"createAccountButton\" onClick={()=>alert(\"clicked\")}>Create Account</span>\n          </p>\n          <style jsx>{`\n          p{\n            color:\"blue\",\n            font-weight:\"bold\"; color:\"#FF5941\"\n          }\n        `}\n        </style>\n      </div>\n    );\n  }\n}\n\nconst styles = {\n  containerStyle: {\n    height: \"100vh\",\n    width: \"100%\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    backgroundColor:\"#fffffa\",\n    flexDirection: 'column',\n  },\n  mainAreaStyle: {\n    backgroundColor: \"#191923\",\n    // backgroundColor: \"#ccc\",    \n    // height: \"250px\",\n    width: \"300px\",\n    borderRadius: \"5px\",\n    padding:\"20px\",\n    justifyContent:\"center\"\n  },\n  inputStyle: {\n    display: \"block\",\n    // padding: \"10px\",\n    height:\"36px\",\n    width: \"266px\",\n    margin: \"15px auto\",\n    borderRadius: \"5px\"\n  },\n  header:{\n    textAlign:\"center\",\n    color:\"#191923\",\n    fontWeight: 'bolder',\n    fontSize:22,\n    fontFamily: 'Poppins, sans-serif', \n  },\n  errorStyle:{\n    marginBottom:\"20px\",\n    color:\"#f50\",\n    textAlign:\"center\",\n    fontSize:16,\n    fontWeight:\"bold\"\n  },\n  paragraphStyle:{\n    textAlign:\"left\",\n    padding: 20,\n    fontSize:16,\n    fontFamily:\"Poppins, sans serif\",\n    backgroundColor:\"#fff\"\n  }\n};\nconst mapStateToProps=(state)=>{\n  return {\n    userToken: state.auth.userToken,\n    error: state.auth.error,\n    loading: state.auth.loading\n  }\n}\n\n\nexport default connect(mapStateToProps,actions)(Auth)\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AAJA;AACA;AAiBA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAHA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;;;;;;AA5BA;AACA;AACA;AACA;;;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;;;AAgBA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAvBA;AAAA;AAAA;AAkCA;;;;AAvEA;AACA;AAyEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AACA;AACA;AALA;AAzCA;AACA;AAgDA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AAEA;;;;A","sourceRoot":""}