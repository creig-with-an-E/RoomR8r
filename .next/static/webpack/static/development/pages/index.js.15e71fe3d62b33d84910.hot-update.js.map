{"version":3,"file":"static/webpack/static/development/pages/index.js.15e71fe3d62b33d84910.hot-update.js","sources":["webpack:///./src/modal/addReviewForm.js"],"sourcesContent":["import React, { Component,useState } from \"react\";\n\nimport ModalComponent from \"@material-ui/core/Modal\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport Fade from \"@material-ui/core/Fade\";\nimport Rating from \"@material-ui/lab/Rating\";\nimport axios from \"axios\"\nimport Script from 'react-load-script';\n\nimport  HorizontalStepper from \"../stepper\"\nimport { Button } from \"../components\";\n\n  class addReviewForm extends Component{\n  constructor(props){\n    super(props)\n      this.handleScriptLoad = this.handleScriptLoad.bind(this)\n    this.handlePlaceSelect = this.handlePlaceSelect.bind(this)\n  }\n\n  state={\n    rating:0,\n    postal_code:\"\",\n    street_number:\"\",\n    apartment_number:\"\",\n    first_name:\"\",\n    last_name:\"\",\n    comment:\"\",\n    city:\"\"\n  }\n  /*** start of google maps functions**/ \n\n  handleScriptLoad(){\n    /***loads google script on load */\n    // Declare Options For Autocomplete\n    const options = {\n      // types: ['(cities)'],\n    };\n\n    // Initialize Google Autocomplete\n    this.autocomplete = new google.maps.places.Autocomplete(\n      document.getElementById('autocomplete'),\n      options,\n    );\n\n    // Avoid paying for data that you don't need by restricting the set of\n    // place fields that are returned to just the address components.\n    this.autocomplete.setFields(['address_components']);\n\n    // Fire Event when a suggested name is selected\n    this.autocomplete.addListener('place_changed', this.handlePlaceSelect);\n  }\n\n  handlePlaceSelect=()=> {\n    // Extract City From Address Object\n    let addressObject = this.autocomplete.getPlace();\n    let address = addressObject.address_components;\n\n    // Check if address is valid\n    if (address) {\n      console.log(address)\n      this.setState(\n        {\n          city: address[0].long_name,\n        }\n      );\n    }\n  }\n\n\n\n  handleClose = () => {\n    this.props.hideModalHandle();\n  };\n\n  onInputChange=(event)=>{\n    this.setState({\n      [event.target.name]: event.target.value\n    })\n  }\n\n  addReviewHandle=(event)=>{\n    event.preventDefault()\n    axios.post(`https://accomo-rater.firebaseio.com/landlord_data.json?auth=${\n      this.props.userToken}`,{\n        \"postal_code\":this.state.postal_code,\n        \"address\":{\n          \"street_number\":this.state.street_number,\n          \"apartment_number\":this.state.apartment_number\n          },\n        \"landlord_bio\":{\n          \"first_name\":this.state.first_name,\n          \"last_name\":this.state.last_name\n        },\n        \"comment\":this.state.comment,\n        \"rating\": this.state.rating\n        }\n    ).then(response=>{\n        this.handleClose()\n    })\n  }\n  render(){\n    const para = <p style={{color:\"#fff\"}}>This is a paragraph</p>\n  return (\n    <div>\n      {/* loading google maps script */}\n      <Script\n        url=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyBWcDVGfs8R5EmWbh9xsuYEHycoqDyDf9I&libraries=places\"\n          onLoad={this.handleScriptLoad}\n        />  \n      <ModalComponent aria-labelledby=\"transition-modal-title\"\n        aria-describedby=\"transition-modal-description\"\n        style={styles.modal}\n        open={this.props.modalVisible}\n        onClose={this.handleClose}\n        closeAfterTransition\n        BackdropComponent={Backdrop}\n        BackdropProps={{\n          timeout: 500\n        }}\n      >\n        <Fade in={this.props.modalVisible}>\n          <div style={styles.paper}>\n            <h2 style={styles.heading}\n              id=\"transition-modal-title\" >\n              Add Review\n            </h2>\n            {/* <form onSubmit={this.addReviewHandle}>\n              <input onChange={this.onInputChange} style={styles.input} \n                type=\"text\" value={this.state.postal_code}\n                required placeholder=\"Post Code\" name=\"postal_code\"/>\n              <input onChange={this.onInputChange}  style={styles.input} \n                type=\"text\" name=\"street_number\"\n                required placeholder=\"Street address\" value={this.state.street_number} />\n              <input onChange={this.onInputChange}  style={styles.input} \n                type=\"text\" placeholder=\"Apartment Number\"\n                name=\"apartment_number\" value={this.state.apartment_number}\n              />\n              <input onChange={this.onInputChange} style={styles.input}\n                type=\"text\" required\n                placeholder=\"City\"\n                name=\"city\" value={this.state.city}\n              />\n                <input onChange={this.onInputChange} style={styles.input} \n                  placeholder=\"landlord's name\" name=\"first_name\" \n                  value={this.state.first_name}/>\n                <textarea onChange={this.onInputChange} style={styles.input} placeholder=\"Feedback\" name=\"comment\" value={this.state.comment}/>\n              <span style={{\n                margin: \"15px auto\",\n                justifyContent: \"center\",\n                display: \"flex\"\n              }}>\n                <Rating\n                  value={this.state.rating}\n                  onChange={(event, newValue) => this.setState({rating: newValue})}\n                />\n              </span>\n              <Button onClick={this.addReviewHandle} style={styles.buttonStyle}>\n                Submit\n              </Button>\n            </form> */}\n            <HorizontalStepper closeModal={this.handleClose} para={para}/>\n          </div>\n        </Fade>\n      </ModalComponent>\n    </div>\n  )}\n};\n\nconst styles = {\n  modal: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    backgroundColor: \"rgba(44,54,94,0.8)\"\n  },\n  paper: {\n    margin: \"0 auto\",\n    alignContent: 'center',\n    borderRadius: \"10px\",\n    background: \"rgb(44,54,94)\",\n    width: 600,\n    padding: \"4px, 4px, 3px\"  \n  },\n  input: {\n    padding: 15,\n    borderRadius: \"5px\",\n    display: \"block\",\n    margin: \"15px auto\",\n    width:200\n  },\n  heading:{\n    textAlign: \"center\",\n    fontFamily: \"Poppins, sans-serif\",\n    color: \"#fffff0\"\n  }\n};\n\nexport default addReviewForm;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAXA;AACA;AAPA;AAwCA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AAAA;AAEA;AADA;AAIA;AACA;AACA;AAtDA;AA0DA;AACA;AACA;AA5DA;AA8DA;AAGA;AACA;AAlEA;AAoEA;AACA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AAXA;AAcA;AACA;AACA;AACA;AArFA;AACA;AAHA;AAIA;AACA;;;AAaA;AACA;AACA;AACA;AAAA;AACA;AAIA;AAMA;AACA;AAAA;AACA;AAEA;AACA;;;AAkDA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAsCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;;;;AAzJA;AACA;AAyJA;AAEA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AAHA;AAtBA;AA6BA;;;;A","sourceRoot":""}