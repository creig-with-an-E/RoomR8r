{"version":3,"file":"static/webpack/static/development/pages/index.js.0d48f5d0d6a68519c3db.hot-update.js","sources":["webpack:///./pages/index.js","webpack:///./src/forms/addReviewForm.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport {connect} from \"react-redux\"\nimport Router from \"next/router\"\nimport {ReviewCard, Layout, Spinner, SearchBar } from \"../src/components\"\nimport Modal from \"../src/modal/modal\"\nimport * as appActions from \"../store/actions/appActions\"\n\nimport AddReviewForm from \"../src/forms/addReviewForm\"\n\nclass App extends Component {\n  componentDidMount(){\n    !this.props.userToken? Router.push(\"/login\") : null\n  }\n  state = {\n    address: \"\",\n    modalVisible: false\n  };\n\n  onAddressChangeHandler = input => {\n    //handles user input and stores in local state\n    this.setState({\n      address: input.toUpperCase()\n    });\n  };\n\n  searchByAddressHandler = event => {\n    this.props.findByAddress(this.props.userToken, this.state.address)\n  }\n\n  showModalHandle=()=>{\n    this.setState({modalVisible: true})\n  }\n\n  hideModalHandle=()=>{\n    this.setState({modalVisible: false})\n  } \n  render() {\n    const cards = this.props.searchResults.map(element=><ReviewCard data={element} key={element.id} />)\n    const spinner = !this.props.loading ? null : <Spinner />;\n    return (\n      <Layout showModalHandle={this.showModalHandle}>\n        {/* showModal passed to layout then to toolbar */}\n        <Modal modalVisible={this.state.modalVisible}\n            hideModalHandle={this.hideModalHandle}>\n              <AddReviewForm />\n        </Modal>\n        <div style={{marginTop:\"60px\"}}>\n          <h2 style={styles.headerStyle}>\n            Because not all landlords are built the same\n          </h2>\n        </div>\n        <div\n          style={{\n            alignSelf:\"center\",\n            marginTop:\"5px\",\n            padding: \"20px\",\n            width: \"380px\",\n            textAlign: \"center\",\n          }}\n        >\n          <SearchBar\n            placeholder=\"search by post code\"\n            value={this.state.address}\n            onChange={this.onAddressChangeHandler}\n            onRequestSearch={this.searchByAddressHandler}\n          />\n          {spinner}\n        </div>            \n        { cards.length !== 0 ? <div style={{overflowY:\"scroll\", width:\"100%\"}}>{cards}</div>: null}\n      </Layout>\n    );\n  }\n}\n\nconst styles = {\n  headerStyle:{\n    color: \"#2C365E\", \n    textAlign: \"center\",\n    fontFamily:'Fira Sans, sans-serif',\n    fontWeight:\"bold\"\n  },\n};\n\nconst mapStateToProps=(state)=>{\n  return{\n    userToken: state.auth.userToken,\n    searchResults:state.app.searchResults,\n    loading: state.app.loading\n  }\n}\n\nconst mapDispatchToProps=(dispatch)=>{\n  return{\n    findByAddress:(userToken,address)=>dispatch(appActions.findReviewByAddress(userToken,address))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import React, {Component} from \"react\"\nimport Rating from \"@material-ui/lab/Rating\";\n\nimport { Button } from \"../components\";\n\nconst styles ={\n    paper: {\n        margin: \"0 auto\",\n        borderRadius: \"3px\",\n        background: \"rgb(44,54,94)\",\n        boxShadow: \"#000\",\n        width: 320,\n        padding: theme.spacing(4, 4, 3)\n      },\n      input: {\n        padding: 15,\n        display: \"block\",\n        margin: \"10px auto\"\n      },\n      heading:{\n        textAlign: \"center\",\n        fontFamily: \"Poppins, sans-serif\",\n        color: \"#fffff0\"\n      }\n}\n\nclass addReviewForm extends Component {\n    state={\n      rating:0\n    }\n\n    addReviewHandle=()=>{\n        axios.post(`https://accomo-rater.firebaseio.com/landlord_data.json?auth=${\n          userToken}`,{}\n        )\n    }\n    render(){\n        <div style={styles.paper}>\n            <h2 style={styles.heading}\n              id=\"transition-modal-title\" >\n              Add Review\n            </h2>\n            <form>\n              <input\n                className={styles.input}\n                type=\"text\"\n                required\n                placeholder=\"Post Code\"\n              />\n              <input\n                required\n                className={styles.input}\n                type=\"text\"\n                placeholder=\"Street address\"\n              />\n              <input\n                className={styles.input}\n                type=\"text\"\n                placeholder=\"Apartment Number\"\n              />\n              <input\n                required\n                className={styles.input}\n                type=\"text\"\n                placeholder=\"City\"\n              />\n              <legend title=\"Land lord info\">\n                <input className={styles.input} placeholder=\"Full Name\" />\n              </legend>\n              <span style={{\n                margin: \"15px auto\",\n                justifyContent: \"center\",\n                display: \"flex\"\n              }}>\n                <Rating\n                  value={this.state.rating}\n                  onChange={(event, newValue) => setRating(newValue)}\n                />\n              </span>\n              <Button onClick={this.addReviewHandle} className={classes.buttonStyle}>\n                Submit\n              </Button>\n            </form>\n          </div>\n    }\n}\n\nexport default addReviewForm"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;AAIA;AACA;AACA;AAFA;AACA;AAIA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;;;;;;AA1BA;AACA;AACA;;;AAwBA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AALA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;AA9DA;AACA;AAgEA;AACA;AACA;AACA;AACA;AACA;AAJA;AADA;AACA;AAQA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AAAA;AAAA;AADA;AAGA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjGA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AAHA;AAdA;AACA;AAoBA;;;;;;;;;;;;;;;;;;AACA;AACA;AADA;AACA;AAGA;AACA;AAGA;AACA;;;;;;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;;;;AA1DA;AACA;AA4DA;;;;A","sourceRoot":""}